<!-- <mat-icon routerLink="" color="primary">
    arrow_back_ios</mat-icon> -->
<div #mapCapture>
    <agm-map #map id="map" [zoom]='zoom' [latitude]='latitude' [longitude]='longitude' [mapTypeId]="'hybrid'" [maxZoom]="maxZoom" [minZoom]="minZoom" (mapReady)="onMapReady($event)" [fullscreenControl]="fullscreenControl" [zoomControl]="zoomControl" [rotateControl]="true"
        [scaleControl]="scaleControl" [streetViewControl]="streetViewControl">
    </agm-map>
</div>

<mat-card-content displayFlx>

    <mat-card class="check-box-card" *ngIf="checkboxVisible">
        <mat-icon (click)="showCheckbox()">close</mat-icon>
        <mat-card-title class='centered'>
            <h1>Services</h1>
        </mat-card-title>
        <form (ngSubmit)="addTasks();" [formGroup]="form">
            <label formArrayName="tasks" *ngFor="let tasks of tasksArray.controls; let i=index">
            <mat-checkbox [formControlName]="i">  
              {{webData[i].name}}
            </mat-checkbox>
            <br/>
          </label>
            <br/>
            <!-- <mat-form-field matFormFieldControl>Add Photo</mat-form-field> -->
            <button type=submit mat-button color='primary' class="btn btn-success" class="centered" (click)="showCheckbox()" (click)="addTaskstoArea()" [disabled]>Add</button>
        </form>
    </mat-card>
</mat-card-content>

<mat-action-row displayFlx>
    <button (click)="addTasks()" [disabled]="!addTasksToAreaButtonShowing" color="primary" mat-raised-button>Add Services</button>
    <div>
        <button type="button" mat-button color="primary" (click)="filePicker.click()">
        Add image
    </button>
        <input (change)="onImagePicked($event)" hidden type="file" #filePicker>
    </div>
    <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview">
        <img [src]="imagePreview" />
    </div>
    <button color="primary" mat-button color="warn" [disabled]='!polygonComplete' (click)="clearMap()">Clear Map</button>



</mat-action-row>


<app-property-detail>
</app-property-detail>
<div class="details-container">

    <h3 *ngIf="reportData">Report for {{date | date}}</h3>

    <div class="collection-container">

        <div *ngFor="let area of reportData">
            <div [ngStyle]="{'color': area.color}" class="collection">
                <div><span class="strong">Name: </span> {{area.name | json}}</div>
                <div><span class="strong">Time: </span>{{area.time | date:'shortTime'}}</div>
                <span class="strong">Services:</span>
                <ul>
                    <span *ngFor="let task of area.tasks"> 
                    <li>{{task}}</li></span>

                </ul>

            </div>
        </div>
    </div>
</div>
<mat-action-row displayFlx>
    <button *ngIf="readyToSave " class="submit-button " (click)="onSaveReport() " mat-raised-button [disabled]="!readyToSave " color="primary ">Submit Report</button>
</mat-action-row>